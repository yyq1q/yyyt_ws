# raspai2shougaibutsu
ラズベリーパイマウスの障害物センサーを用いた障害物除去コンポーネント
# controller2raspai
指令振り分けコンポーネント
# 動作環境
OpenRTM

# 使用手順
Controllerコンポーネントとcontroller2raspaiを接続，

![システム構成図](https://github.com/yyq1q/yyyt_ws/blob/main/yamauchi/%E3%83%A6%E3%83%93%E3%82%AD%E3%82%BF%E3%82%B9_%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E5%9B%B3.png)
![システム構成図](https://github.com/yyq1q/yyyt_ws/blob/main/yamauchi/%E3%83%A6%E3%83%93%E3%82%AD%E3%82%BF%E3%82%B9_%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E5%9B%B3_2.png)

# 機能
1. **バケット座標の描画**  
画面左側のグラフにバケットの目標座標と現在座標が表示される.  
  
2. **リミットスイッチの可視化**  
リミットスイッチが押されているとき, 画面上のリミットスイッチが赤く点灯する.  
  
3. **x-tグラフの描画**  
画面右側のグラフにx方向とy方向それぞれで, 縦軸に移動距離, 横軸に時間をとったグラフが表示される.  
  
4. **PIDゲインの設定**  
トグルスイッチを切り替え, テキストフィールドにゲインを入力し, 「WRITE」ボタンをクリックすることでPIDゲインの変更が可能. トグルスイッチの設定は下記の通り.  
・AXIS：軸の設定（X軸orY軸）  
・DIRECTION：モーターの回転方向の設定（時計回りor反時計回り）  
・MODE：運転モードの設定（通常運転or調整運転）  
   
5. **マイコンとの接続状況の監視**  
画面右上にProcessingがMCU（マイコンユニット）と正しく接続されているかを表示. 

# フローチャート

![フローチャート](https://github.com/TMU-Wada-Lab/Fuji_visualizationApp/blob/main/Docs/flowchart.png)

# コード概要
　　　行：内容  
　1～121：変数等の宣言  
122～125：ウィンドウサイズの設定  
126～165：各種関数や機能の初期設定  
166～181：メインループのdraw()関数  
182～790：各種関数の定義  
